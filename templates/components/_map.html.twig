
    <style>
        /* Always set the map height explicitly to define the size of the div
 * element that contains the map. */
        #map
        {

            position: relative;
            overflow: hidden;
            height: 400px;

        }

        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 50%;
            margin: 0;
            padding: 0;
        }
    </style>

<span class="metadata-marker" style="display: none;" data-region_tag="css"></span>
<span class="metadata-marker" style="display: none;" data-region_tag="html-body"></span>
<span class="metadata-marker" style="display: none;" data-region_tag="script-body"></span>
<div id="map"></div>
<script>

    var map, infoWindow;
    function  initMap () {
        map = new google.maps.Map (document.getElementById ("map"), {

        });
        infoWindow = new google.maps.InfoWindow;

        var uluru = {lat:48.983253, lng:1.925368};

        var map = new google.maps.Map(
            document.getElementById('map'), {zoom: 15, center: uluru});

        var marker = new google.maps.Marker({position: uluru, map: map});

        if (navigator.geolocation)
        {
            navigator.geolocation.getCurrentPosition (function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                infoWindow.setPosition (pos);
                infoWindow.setContent ('Lieu trouvé.');
                infoWindow.open (Map);
                map.setCenter (pos);
            },  function() {
                handleLocationError (true, infoWindow, map.getCenter ());
            })
        }
        else {
            // Le navigateur ne supporte pas la géolocalisation
            handleLocationError (false, infoWindow, map.getCenter ());
        }
    }

    function handleLocationError (browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition (pos);
        infoWindow.setContent (browserHasGeolocation?
            "Erreur: le service de géolocalisation a échoué." :
            'Erreur: votre navigateur ne supporte pas la géolocalisation.');
        infoWindow.open (Map );
    }

</script>
